# Загрузка поддержки взаимодействия с ROS
import("rtt_ros");
ros.import("rtt_sensor_msgs")

ros.import("rtt_rospack");  # Разрешение путей ROS: операци ros.find(<package name>)
ros.import("rtt_rosparam");

require("print");
import("urdf_need");
import("sweetie_bot_robot_model");

loadComponent("urdf_need", "Urdf_need");
loadService("urdf_need","rosparam");
loadService("urdf_need","marshalling"); # Поддержка исполнения скриптов и загрузки xml/cpf файлов

## Create connections
stream("urdf_need.input_joint_state", ros.topic("joint_state"))

# Загружаем параметры из xml файла.
urdf_need.marshalling.loadProperties(ros.find("sweetie_bot_config") + "/config/chains.cpf");
urdf_need.rosparam.getParam("/", "robot_model")

urdf_need.configure();

urdf_need.rosparam.getAll();
urdf_need.rosparam.getAbsolute("robot_description");

urdf_need.start();
urdf_need.trigger();
